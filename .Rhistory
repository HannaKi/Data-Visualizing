install.packages("socviz")
my_packages <- c("tidyverse", "broom", "coefplot", "cowplot",
"gapminder", "GGally", "ggrepel", "ggridges", "gridExtra",
"here", "interplot", "margins", "maps", "mapproj",
"mapdata", "MASS", "quantreg", "rlang", "scales",
"survey", "srvyr", "viridis", "viridisLite", "devtools")
install.packages(my_packages, repos = "http://cran.rstudio.com")
devtools::install_github("kjhealy/socviz")
devtools::install_github("kjhealy/socviz")
devtools::install_github("kjhealy/socviz")
devtools::install_github("kjhealy/socviz")
## By defult, show code for all chunks in the knitted document,
## as well as the output. To override for a particular chunk
## use echo = FALSE in its options.
knitr::opts_chunk$set(echo = TRUE)
## Set the default size of figures
knitr::opts_chunk$set(fig.width=8, fig.height=5)
## Load the libraries we will be using
library(gapminder)
library(here)
library(socviz)
library(tidyverse)
## This code will not be evaluated automatically.
## (Notice the eval = FALSE declaration in the options section of the
## code chunk)
my_packages <- c("tidyverse", "broom", "coefplot", "cowplot",
"gapminder", "GGally", "ggrepel", "ggridges", "gridExtra",
"here", "interplot", "margins", "maps", "mapproj",
"mapdata", "MASS", "quantreg", "rlang", "scales",
"survey", "srvyr", "viridis", "viridisLite", "devtools")
install.packages(my_packages, repos = "http://cran.rstudio.com")
install.packages(my_packages, repos = "http://cran.rstudio.com")
## By defult, show code for all chunks in the knitted document,
## as well as the output. To override for a particular chunk
## use echo = FALSE in its options.
knitr::opts_chunk$set(echo = TRUE)
## Set the default size of figures
knitr::opts_chunk$set(fig.width=8, fig.height=5)
## Load the libraries we will be using
library(gapminder)
library(here)
library(socviz)
library(tidyverse)
install.packages("rlang")
install.packages("tidyverse")
install.packages("scales")
source('~/.active-rstudio-document', encoding = 'UTF-8', echo=TRUE)
gapminder
p <- ggplot(data = gapminder, aes(x=gdp, y=lifExp, size = pop, color = continent)) +
geom_point() +
coord_cartesian() +
scale_x_log10() +
labs(x = "log GDP", y = "Life expectancy",
title = "kuvaaja")
p
p <- ggplot(data = gapminder, aes(x=gdp, y=lifeExp, size = pop, color = continent)) +
geom_point() +
coord_cartesian() +
scale_x_log10() +
labs(x = "log GDP", y = "Life expectancy",
title = "kuvaaja")
p
p <- ggplot(data = gapminder, aes(x=gdpPercap, y=lifeExp, size = pop, color = continent)) +
geom_point() +
coord_cartesian() +
scale_x_log10() +
labs(x = "log GDP", y = "Life expectancy",
title = "kuvaaja")
p
## By defult, show code for all chunks in the knitted document,
## as well as the output. To override for a particular chunk
## use echo = FALSE in its options.
knitr::opts_chunk$set(echo = TRUE)
## Set the default size of figures
knitr::opts_chunk$set(fig.width=8, fig.height=5)
## Load the libraries we will be using
library(gapminder)
library(here)
library(socviz)
library(tidyverse)
p <- ggplot(data = gapminder, mapping = aes(x = gdpPercap, y = lifeExp))
p + geom_point(mapping = aes(color = continent)) +
geom_smooth(method = "loess") +
scale_x_log10()
p
p <- ggplot(data = gapminder, mapping = aes(x = gdpPercap, y = lifeExp))
p + geom_point(mapping = aes(color = continent)) +
geom_smooth(method = "loess") +
scale_x_log10()
p <- ggplot(data = gapminder,
mapping = aes(x = gdpPercap,
y = lifeExp,
color = continent,
fill = continent))+
geom_point() +
geom_smooth(method = "loess") +
scale_x_log10()
p
p <- ggplot(data = gapminder,
mapping = aes(x = gdpPercap,
y = lifeExp,
color = continent,
fill = continent))
p+  geom_point() +
geom_smooth(method = "loess") +
scale_x_log10()
p <- ggplot(data = gapminder, mapping = aes(x = gdpPercap, y=lifeExp))+
p+  geom_point(alpha = 0.3) +
geom_smooth(method = "gam") +
scale_x_log10(labels = scales::dollar) +
labs(x = "GDP Per Capita", y = "Life Expectancy in Years",
title = "Economic Growth and Life Expectancy",
subtitle = "Data points are country-years",
caption = "Source: Gapminder.")
p <- ggplot(data = gapminder, mapping = aes(x = gdpPercap, y=lifeExp))
p+  geom_point(alpha = 0.3) +
geom_smooth(method = "gam") +
scale_x_log10(labels = scales::dollar) +
labs(x = "GDP Per Capita", y = "Life Expectancy in Years",
title = "Economic Growth and Life Expectancy",
subtitle = "Data points are country-years",
caption = "Source: Gapminder.")
p <- ggplot(data = gapminder,
mapping = aes(x = gdpPercap,
y = lifeExp))
p + geom_point(alpha = 0.3) +
geom_smooth(color = "orange", se = FALSE, size = 8, method = "lm") +
scale_x_log10()
## Onpa hienoa!
## By defult, show code for all chunks in the knitted document,
## as well as the output. To override for a particular chunk
## use echo = FALSE in its options.
knitr::opts_chunk$set(echo = TRUE)
## Set the default size of figures
knitr::opts_chunk$set(fig.width=8, fig.height=5)
## Load the libraries we will be using
library(gapminder)
library(here)
library(socviz)
library(tidyverse)
# eli edellisen kappaleen yläpuolella on
# koodia, jota ei tulosteta html-tiedostoon
gapminder
# Ctrl+Alt+I Windowsilla antaa tällaisen koodipalan. (Entä Linux?)
colnames(gapminder)
p <- ggplot(data = gapminder,
mapping = aes(x = gdpPercap,
y = lifeExp,
size = pop,
color = continent)) +
geom_point() +
coord_cartesian() +
scale_x_log10() +
labs(x = "log GDP", y = "Life expectancy",
title = "kuvaaja")
# piirrä tulostamalla "p"
p
p <- ggplot(data = gapminder,
mapping = aes(x = gdpPercap,
y = lifeExp,
color = "purple"))+
geom_point() +
geom_smooth(method = "loess") +
scale_x_log10() +
labs(title = "aes-funktioon annettu värimäärittely VÄÄRIN")
p
p <- ggplot(data = gapminder,
mapping = aes(x = gdpPercap,
y = lifeExp))
p + geom_point(color = "purple") +
geom_smooth(method = "loess") +
scale_x_log10() +
labs(title = "Värin voi määrittää geom-funktiolle mutta se ei tuo tässä lisää tietoa")
p <- ggplot(data = gapminder,
mapping = aes(x = gdpPercap,
y = lifeExp))
p + geom_point(alpha = 0.3) +
geom_smooth(color = "orange", se = FALSE, size = 8, method = "lm") +
scale_x_log10()
p <- ggplot(data = gapminder, mapping = aes(x = gdpPercap, y=lifeExp))
p+  geom_point(alpha = 0.3) +
geom_smooth(method = "gam") +
scale_x_log10(labels = scales::dollar) +
labs(x = "GDP Per Capita", y = "Life Expectancy in Years",
title = "Economic Growth and Life Expectancy",
subtitle = "Data points are country-years",
caption = "Source: Gapminder.")
p <- ggplot(data = gapminder,
mapping = aes(x = gdpPercap,
y = lifeExp,
color = continent,
fill = continent))
p + geom_point() +
geom_smooth(method = "loess") +
scale_x_log10()
p <- ggplot(data = gapminder, mapping = aes(x = gdpPercap, y = lifeExp))
p + geom_point(mapping = aes(color = continent)) +
geom_smooth(method = "loess") +
scale_x_log10()
gapminder
View(gapminder)
summary(gapminder)
p <- ggplot(data = gapminder,
mapping = aes(x = gdpPercap,
y = lifeExp))
p + geom_point(mapping = aes(color = log(pop))) +
scale_x_log10()
install.packages("here")
## By defult, show code for all chunks in the knitted document,
## as well as the output. To override for a particular chunk
## use echo = FALSE in its options.
knitr::opts_chunk$set(echo = TRUE)
## Set the default size of figures
knitr::opts_chunk$set(fig.width=8, fig.height=5)
## Load the libraries we will be using
library(gapminder)
library(here)
library(socviz)
library(tidyverse)
p <- ggplot(data = gapminder,
mapping = aes(x = gdpPercap,
y = lifeExp)) +
geom_point(mapping = aes(color = log(pop))) +
scale_x_log10()
ggsave(here("output", "figures", plot = p)
p <- ggplot(data = gapminder,
mapping = aes(x = gdpPercap,
y = lifeExp)) +
geom_point(mapping = aes(color = log(pop))) +
scale_x_log10()
ggsave(here("output", "figures", plot = p))
p <- ggplot(data = gapminder,
mapping = aes(x = gdpPercap,
y = lifeExp)) +
geom_point(mapping = aes(color = log(pop))) +
scale_x_log10()
ggsave(here("figures", "testikuvaaja.png", plot = p))
p <- ggplot(data = gapminder,
mapping = aes(x = gdpPercap,
y = lifeExp)) +
geom_point(mapping = aes(color = log(pop))) +
scale_x_log10()
ggsave(here("figures", "testikuvaaja.png"), plot = p)
p <- ggplot(data = gapminder,
mapping = aes(x = gdpPercap,
y = lifeExp)) +
geom_point(mapping = aes(color = log(pop))) +
scale_x_log10()
ggsave(here("figures", "testikuvaaja.pdf"), plot = p)
p <- ggplot(data = gapminder,
mapping = aes(x = gdpPercap,
y = lifeExp)) +
geom_point(mapping = aes(color = log(pop))) +
scale_x_log10()
ggsave(here("output", "testikuvaaja.pdf"), plot = p)
p <- ggplot(data = gapminder,
mapping = aes(x = gdpPercap,
y = lifeExp)) +
geom_point(mapping = aes(color = log(pop))) +
scale_x_log10()
ggsave(here("output", "figures", "testikuvaaja.pdf"), plot = p)
p <- ggplot(data = gapminder,
mapping = aes(x = gdpPercap,
y = lifeExp)) +
geom_point(mapping = aes(color = log(pop))) +
scale_x_log10()
ggsave(here("output", "figures", "testikuvaaja.png"), plot = p)
p <- ggplot(data = gapminder, mapping = aes(x = gdpPercap, y = lifeExp))
p + geom_point(mapping = aes(color = continent)) +
geom_smooth(method = "loess") +
scale_x_log10() +
labs(title = "Alkuperäinen kuvaaja")
p <- ggplot(data = gapminder, mapping = aes(x = gdpPercap, y = lifeExp))
p + geom_smooth(method = "loess") +
geom_point(mapping = aes(color = continent)) +
scale_x_log10() +
labs(title = "geom_smooth ennen geom_pointia")
colnames(gapminder)
p <- ggplot(data = gapminder, mapping = aes(x = pop, y = lifeExp))
p + geom_smooth(method = "loess") +
geom_point(mapping = aes(color = continent)) +
scale_x_log10() +
labs(title = "Elinaika suhteessa populaatioon")
p <- ggplot(data = gapminder, mapping = aes(x = pop, y = lifeExp))
p + geom_smooth(method = "loess") +
geom_point(mapping = aes(color = continent)) +
scale_y_log10()
p <- ggplot(data = gapminder, mapping = aes(x = pop, y = lifeExp))
p + geom_smooth(method = "loess") +
geom_point(mapping = aes(color = continent)) +
scale_x_sqrt()
p <- ggplot(data = gapminder, mapping = aes(x = pop, y = lifeExp))
p + geom_smooth(method = "loess") +
geom_point(mapping = aes(color = continent)) +
scale_x_reverse()
p <- ggplot(data = gapminder, mapping = aes(x = pop, y = lifeExp))
p + geom_smooth(method = "loess") +
geom_point(mapping = aes(color = continent))
p <- ggplot(data = gapminder, mapping = aes(x = pop, y = lifeExp))
p + geom_smooth(method = "loess") +
geom_point(mapping = aes(color = year)) +
scale_x_log10() +
labs(title="värimääreenä vuosi eikä manner)
p <- ggplot(data = gapminder, mapping = aes(x = pop, y = lifeExp))
p + geom_smooth(method = "loess") +
geom_point(mapping = aes(color = year)) +
scale_x_log10() +
labs(title="värimääreenä vuosi eikä manner")
p <- ggplot(data = gapminder, mapping = aes(x = gdpPercap, y = lifeExp))
p + geom_smooth(method = "loess") +
geom_point(mapping = aes(color = year)) +
scale_x_log10() +
labs(title="värimääreenä vuosi eikä manner")
str(gapminder)
p <- ggplot(data = gapminder, mapping = aes(x = gdpPercap, y = lifeExp))
p + geom_smooth(method = "loess") +
geom_point(mapping = aes(color = factor(year))) +
scale_x_log10() +
labs(title="värimääreenä vuosi eikä manner")
p <- ggplot(data = gapminder, mapping = aes(x = gdpPercap, y = lifeExp))
p + geom_smooth(method = "loess") +
geom_point(mapping = aes(color = factor(year))) +
scale_x_log10() +
labs(title="värimääreenä vuosi eikä manner HUOM! factor(year)!!!!")
summary(gapminder)
gapminder2 <- fiter(gapminder, year == 2007)
gapminder2 <- filter(gapminder, year == 2007)
p <- ggplot(data = gapminder2, mapping = aes(x = gdpPercap, y = lifeExp))
p + geom_smooth(method = "loess") +
geom_point(mapping = aes(color = continent)) +
scale_x_log10()
gapminder2 <- filter(gapminder, year == 2007)
p <- ggplot(data = gapminder2, mapping = aes(x = gdpPercap, y = lifeExp))
p + geom_smooth(method = "loess") +
geom_point(mapping = aes(color = country)) +
scale_x_log10()
gapminder2 <- filter(gapminder, year == 2007)
p <- ggplot(data = gapminder2, mapping = aes(x = gdpPercap, y = lifeExp))
p + geom_smooth(method = "loess") +
geom_point(mapping = aes(color = continent)) +
scale_x_log10()
p <- ggplot(data = gapminder, mapping = aes(x = gdpPercap, y = lifeExp))
p + geom_bar(mapping = aes(color = continent)) +
scale_x_log10()
p <- ggplot(data = gapminder,
mapping = aes(x = year,
y = gdpPercap))
p + geom_line(aes(group=country))
p <- ggplot(data = gapminder, mapping = aes(x = year, y = gdpPercap))
p + geom_line(aes(group = country)) + facet_wrap(~ continent)
p <- ggplot(gapminder, aes(year, gdpPercap))
p + geom_line(color = "gray", aes(group = country)) + geom_smooth(method = loess, se = F) + scale_y_log10(labels=scales::dollar) + facet_wrap(~ continent, ncol = 5) + labs(x= "vuosi", y = "BKT/hlö", title="BKT henkiöä kohden viidellä mantereella")
p <- ggplot(gapminder, aes(year, gdpPercap))
p + geom_line(color = "gray", aes(group = country)) + geom_smooth(method = loess, se = F) + scale_y_log10(labels=scales::dollar) + facet_wrap(~ continent, ncol = 5) + labs(x= "vuosi", y = "BKT/hlö", title="BKT henkiöä kohden viidellä mantereella")
ggsave(here("output", "figures", "BKT_per_hlo_mantereittain.jpg") plot = p)
p <- ggplot(gapminder, aes(year, gdpPercap))
p + geom_line(color = "gray", aes(group = country)) + geom_smooth(method = loess, se = F) + scale_y_log10(labels=scales::dollar) + facet_wrap(~ continent, ncol = 5) + labs(x= "vuosi", y = "BKT/hlö", title="BKT henkiöä kohden viidellä mantereella")
ggsave(here("output", "figures", "BKT_per_hlo_mantereittain.jpg"), plot = p)
p <- ggplot(gapminder, aes(year, gdpPercap)) + geom_line(color = "gray", aes(group = country)) + geom_smooth(method = loess, se = F) + scale_y_log10(labels=scales::dollar) + facet_wrap(~ continent, ncol = 5) + labs(x= "vuosi", y = "BKT/hlö", title="BKT henkiöä kohden viidellä mantereella")
ggsave(here("output", "figures", "BKT_per_hlo_mantereittain.jpg"), plot = p)
p <- ggplot(gapminder, aes(year, gdpPercap)) + geom_line(color = "gray", aes(group = country)) + geom_smooth(method = loess, se = F) + scale_y_log10(labels=scales::dollar) + facet_wrap(~ continent, ncol = 5) + labs(x= "vuosi", y = "BKT/hlö", title="BKT henkiöä kohden viidellä mantereella")
ggsave(here("output", "figures", "BKT_per_hlo_mantereittain.pdf"), plot = p)
p <- ggplot(gapminder, aes(year, gdpPercap)) + geom_line(color = "gray", aes(group = country)) + geom_smooth(method = loess, se = F) + scale_y_log10(labels=scales::dollar) + facet_wrap(~ continent, ncol = 5) + labs(x= "vuosi", y = "BKT/hlö", title="BKT henkiöä kohden viidellä mantereella")
ggsave(here("output", "figures", "BKT_per_hlo_mantereittain.pdf"), plot = p)
p <- ggplot(gapminder, aes(year, gdpPercap)) + geom_line(color = "gray", aes(group = country)) + geom_smooth(method = loess, se = F) + scale_y_log10(labels=scales::dollar) + facet_wrap(~ continent, ncol = 5) + labs(x= "vuosi", y = "BKT/hlö", title="BKT henkiöä kohden viidellä mantereella")
ggsave(here("output", "figures", "BKT_per_hlo_mantereittain.jpg"), plot = p)
p <- ggplot(gapminder, aes(year, gdpPercap)) + geom_line(color = "gray", aes(group = country)) + geom_smooth(method = loess, se = F) + scale_y_log10(labels=scales::dollar) + facet_wrap(~ continent, ncol = 5) + labs(x= "vuosi", y = "BKT/hlö", title="BKT henkiöä kohden viidellä mantereella")
ggsave(here("output", "figures", "BKT_per_hlo_mantereittain.jpg"), plot = p)
