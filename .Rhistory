p <- ggplot(data = gapminder, mapping = aes(x = pop, y = lifeExp))
p + geom_smooth(method = "loess") +
geom_point(mapping = aes(color = year)) +
scale_x_log10() +
labs(title="värimääreenä vuosi eikä manner)
p <- ggplot(data = gapminder, mapping = aes(x = pop, y = lifeExp))
p + geom_smooth(method = "loess") +
geom_point(mapping = aes(color = year)) +
scale_x_log10() +
labs(title="värimääreenä vuosi eikä manner")
p <- ggplot(data = gapminder, mapping = aes(x = gdpPercap, y = lifeExp))
p + geom_smooth(method = "loess") +
geom_point(mapping = aes(color = year)) +
scale_x_log10() +
labs(title="värimääreenä vuosi eikä manner")
str(gapminder)
p <- ggplot(data = gapminder, mapping = aes(x = gdpPercap, y = lifeExp))
p + geom_smooth(method = "loess") +
geom_point(mapping = aes(color = factor(year))) +
scale_x_log10() +
labs(title="värimääreenä vuosi eikä manner")
p <- ggplot(data = gapminder, mapping = aes(x = gdpPercap, y = lifeExp))
p + geom_smooth(method = "loess") +
geom_point(mapping = aes(color = factor(year))) +
scale_x_log10() +
labs(title="värimääreenä vuosi eikä manner HUOM! factor(year)!!!!")
summary(gapminder)
gapminder2 <- fiter(gapminder, year == 2007)
gapminder2 <- filter(gapminder, year == 2007)
p <- ggplot(data = gapminder2, mapping = aes(x = gdpPercap, y = lifeExp))
p + geom_smooth(method = "loess") +
geom_point(mapping = aes(color = continent)) +
scale_x_log10()
gapminder2 <- filter(gapminder, year == 2007)
p <- ggplot(data = gapminder2, mapping = aes(x = gdpPercap, y = lifeExp))
p + geom_smooth(method = "loess") +
geom_point(mapping = aes(color = country)) +
scale_x_log10()
gapminder2 <- filter(gapminder, year == 2007)
p <- ggplot(data = gapminder2, mapping = aes(x = gdpPercap, y = lifeExp))
p + geom_smooth(method = "loess") +
geom_point(mapping = aes(color = continent)) +
scale_x_log10()
p <- ggplot(data = gapminder, mapping = aes(x = gdpPercap, y = lifeExp))
p + geom_bar(mapping = aes(color = continent)) +
scale_x_log10()
p <- ggplot(data = gapminder,
mapping = aes(x = year,
y = gdpPercap))
p + geom_line(aes(group=country))
p <- ggplot(data = gapminder, mapping = aes(x = year, y = gdpPercap))
p + geom_line(aes(group = country)) + facet_wrap(~ continent)
p <- ggplot(gapminder, aes(year, gdpPercap))
p + geom_line(color = "gray", aes(group = country)) + geom_smooth(method = loess, se = F) + scale_y_log10(labels=scales::dollar) + facet_wrap(~ continent, ncol = 5) + labs(x= "vuosi", y = "BKT/hlö", title="BKT henkiöä kohden viidellä mantereella")
p <- ggplot(gapminder, aes(year, gdpPercap))
p + geom_line(color = "gray", aes(group = country)) + geom_smooth(method = loess, se = F) + scale_y_log10(labels=scales::dollar) + facet_wrap(~ continent, ncol = 5) + labs(x= "vuosi", y = "BKT/hlö", title="BKT henkiöä kohden viidellä mantereella")
ggsave(here("output", "figures", "BKT_per_hlo_mantereittain.jpg") plot = p)
p <- ggplot(gapminder, aes(year, gdpPercap))
p + geom_line(color = "gray", aes(group = country)) + geom_smooth(method = loess, se = F) + scale_y_log10(labels=scales::dollar) + facet_wrap(~ continent, ncol = 5) + labs(x= "vuosi", y = "BKT/hlö", title="BKT henkiöä kohden viidellä mantereella")
ggsave(here("output", "figures", "BKT_per_hlo_mantereittain.jpg"), plot = p)
p <- ggplot(gapminder, aes(year, gdpPercap)) + geom_line(color = "gray", aes(group = country)) + geom_smooth(method = loess, se = F) + scale_y_log10(labels=scales::dollar) + facet_wrap(~ continent, ncol = 5) + labs(x= "vuosi", y = "BKT/hlö", title="BKT henkiöä kohden viidellä mantereella")
ggsave(here("output", "figures", "BKT_per_hlo_mantereittain.jpg"), plot = p)
p <- ggplot(gapminder, aes(year, gdpPercap)) + geom_line(color = "gray", aes(group = country)) + geom_smooth(method = loess, se = F) + scale_y_log10(labels=scales::dollar) + facet_wrap(~ continent, ncol = 5) + labs(x= "vuosi", y = "BKT/hlö", title="BKT henkiöä kohden viidellä mantereella")
ggsave(here("output", "figures", "BKT_per_hlo_mantereittain.pdf"), plot = p)
p <- ggplot(gapminder, aes(year, gdpPercap)) + geom_line(color = "gray", aes(group = country)) + geom_smooth(method = loess, se = F) + scale_y_log10(labels=scales::dollar) + facet_wrap(~ continent, ncol = 5) + labs(x= "vuosi", y = "BKT/hlö", title="BKT henkiöä kohden viidellä mantereella")
ggsave(here("output", "figures", "BKT_per_hlo_mantereittain.pdf"), plot = p)
p <- ggplot(gapminder, aes(year, gdpPercap)) + geom_line(color = "gray", aes(group = country)) + geom_smooth(method = loess, se = F) + scale_y_log10(labels=scales::dollar) + facet_wrap(~ continent, ncol = 5) + labs(x= "vuosi", y = "BKT/hlö", title="BKT henkiöä kohden viidellä mantereella")
ggsave(here("output", "figures", "BKT_per_hlo_mantereittain.jpg"), plot = p)
p <- ggplot(gapminder, aes(year, gdpPercap)) + geom_line(color = "gray", aes(group = country)) + geom_smooth(method = loess, se = F) + scale_y_log10(labels=scales::dollar) + facet_wrap(~ continent, ncol = 5) + labs(x= "vuosi", y = "BKT/hlö", title="BKT henkiöä kohden viidellä mantereella")
ggsave(here("output", "figures", "BKT_per_hlo_mantereittain.jpg"), plot = p)
## Onpa hienoa!
## By defult, show code for all chunks in the knitted document,
## as well as the output. To override for a particular chunk
## use echo = FALSE in its options.
knitr::opts_chunk$set(echo = TRUE)
## Set the default size of figures
knitr::opts_chunk$set(fig.width=8, fig.height=5)
## Load the libraries we will be using
library(gapminder)
library(here)
library(socviz)
library(tidyverse)
# eli edellisen kappaleen yläpuolella on
# koodia, jota ei tulosteta html-tiedostoon
gapminder
# Ctrl+Alt+I Windowsilla antaa tällaisen koodipalan. (Entä Linux?)
summary(gapminder)
colnames(gapminder)
p <- ggplot(data = gapminder,
mapping = aes(x = gdpPercap,
y = lifeExp,
size = pop,
color = continent)) +
geom_point() +
coord_cartesian() +
scale_x_log10() +
labs(x = "log GDP", y = "Life expectancy",
title = "kuvaaja")
# piirrä tulostamalla "p"
p
p <- ggplot(data = gapminder,
mapping = aes(x = gdpPercap,
y = lifeExp,
color = "purple"))+
geom_point() +
geom_smooth(method = "loess") +
scale_x_log10() +
labs(title = "aes-funktioon annettu värimäärittely VÄÄRIN")
p
p <- ggplot(data = gapminder,
mapping = aes(x = gdpPercap,
y = lifeExp))
p + geom_point(color = "purple") +
geom_smooth(method = "loess") +
scale_x_log10() +
labs(title = "Värin voi määrittää geom-funktiolle mutta se ei tuo tässä lisää tietoa")
p <- ggplot(data = gapminder,
mapping = aes(x = gdpPercap,
y = lifeExp))
p + geom_point(alpha = 0.3) +
geom_smooth(color = "orange", se = FALSE, size = 8, method = "lm") +
scale_x_log10()
p <- ggplot(data = gapminder, mapping = aes(x = gdpPercap, y=lifeExp))
p+  geom_point(alpha = 0.3) +
geom_smooth(method = "gam") +
scale_x_log10(labels = scales::dollar) +
labs(x = "GDP Per Capita", y = "Life Expectancy in Years",
title = "Economic Growth and Life Expectancy",
subtitle = "Data points are country-years",
caption = "Source: Gapminder.")
p <- ggplot(data = gapminder,
mapping = aes(x = gdpPercap,
y = lifeExp,
color = continent,
fill = continent))
p + geom_point() +
geom_smooth(method = "loess") +
scale_x_log10()
p <- ggplot(data = gapminder, mapping = aes(x = gdpPercap, y = lifeExp))
p + geom_point(mapping = aes(color = continent)) +
geom_smooth(method = "loess") +
scale_x_log10()
p <- ggplot(data = gapminder,
mapping = aes(x = gdpPercap,
y = lifeExp))
p + geom_point(mapping = aes(color = log(pop))) +
scale_x_log10()
p <- ggplot(data = gapminder,
mapping = aes(x = gdpPercap,
y = lifeExp)) +
geom_point(mapping = aes(color = log(pop))) +
scale_x_log10()
ggsave(here("output", "figures", "testikuvaaja.png"), plot = p)
p <- ggplot(data = gapminder, mapping = aes(x = gdpPercap, y = lifeExp))
p + geom_point(mapping = aes(color = continent)) +
geom_smooth(method = "loess") +
scale_x_log10() +
labs(title = "Alkuperäinen kuvaaja")
p <- ggplot(data = gapminder, mapping = aes(x = gdpPercap, y = lifeExp))
p + geom_smooth(method = "loess") +
geom_point(mapping = aes(color = continent)) +
scale_x_log10() +
labs(title = "geom_smooth ennen geom_pointia")
p <- ggplot(data = gapminder, mapping = aes(x = pop, y = lifeExp))
p + geom_smooth(method = "loess") +
geom_point(mapping = aes(color = continent)) +
scale_x_log10() +
labs(title = "Elinaika suhteessa populaatioon")
p <- ggplot(data = gapminder, mapping = aes(x = gdpPercap, y = lifeExp))
p + geom_smooth(method = "loess") +
geom_point(mapping = aes(color = continent)) +
scale_y_log10()
p <- ggplot(data = gapminder, mapping = aes(x = gdpPercap, y = lifeExp))
p + geom_smooth(method = "loess") +
geom_point(mapping = aes(color = continent)) +
scale_x_sqrt()
p <- ggplot(data = gapminder, mapping = aes(x = gdpPercap, y = lifeExp))
p + geom_smooth(method = "loess") +
geom_point(mapping = aes(color = continent)) +
scale_x_reverse()
p <- ggplot(data = gapminder, mapping = aes(x = gdpPercap, y = lifeExp))
p + geom_smooth(method = "loess") +
geom_point(mapping = aes(color = continent))
p <- ggplot(data = gapminder, mapping = aes(x = gdpPercap, y = lifeExp))
p + geom_smooth(method = "loess") +
geom_point(mapping = aes(color = year)) +
scale_x_log10() +
labs(title="värimääreenä vuosi eikä manner")
p <- ggplot(data = gapminder, mapping = aes(x = gdpPercap, y = lifeExp))
p + geom_smooth(method = "loess") +
geom_point(mapping = aes(color = factor(year))) +
scale_x_log10() +
labs(title="värimääreenä vuosi eikä manner HUOM! factor(year)!!!!")
gapminder2 <- filter(gapminder, year == 2007)
p <- ggplot(data = gapminder2, mapping = aes(x = gdpPercap, y = lifeExp))
p + geom_smooth(method = "loess") +
geom_point(mapping = aes(color = continent)) +
scale_x_log10()
p <- ggplot(data = gapminder,
mapping = aes(x = year,
y = gdpPercap))
p + geom_line(aes(group=country))
p <- ggplot(data = gapminder, mapping = aes(x = year, y = gdpPercap))
p + geom_line(aes(group = country)) + facet_wrap(~ continent)
p <- ggplot(gapminder, aes(year, gdpPercap)) + geom_line(color = "gray", aes(group = country)) + geom_smooth(method = loess, se = F) + scale_y_log10(labels=scales::dollar) + facet_wrap(~ continent, ncol = 5) + labs(x= "vuosi", y = "BKT/hlö", title="BKT henkiöä kohden viidellä mantereella")
p
ggsave(here("output", "figures", "BKT_per_hlo_mantereittain.jpg"), plot = p)
help("labs")
help("theme")
p <- ggplot(gapminder, aes(year, gdpPercap)) + geom_line(color = "gray", aes(group = country)) + geom_smooth(method = loess, se = F) + scale_y_log10(labels=scales::dollar) + facet_wrap(~ continent, ncol = 5) + labs(x= "vuosi", y = "BKT/hlö", title="BKT henkiöä kohden viidellä mantereella") + theme(axis.title.x = element_text(angle = 90, vjust = 0.25))
p
ggsave(here("output", "figures", "BKT_per_hlo_mantereittain.jpg"), plot = p)
p <- ggplot(gapminder, aes(year, gdpPercap)) + geom_line(color = "gray", aes(group = country)) + geom_smooth(method = loess, se = F) + scale_y_log10(labels=scales::dollar) + theme(axis.title.x = element_text(angle = 90, vjust = 0.25)) + facet_wrap(~ continent, ncol = 5) + labs(x= "vuosi", y = "BKT/hlö", title="BKT henkilöä kohden viidellä mantereella")
p
ggsave(here("output", "figures", "BKT_per_hlo_mantereittain.jpg"), plot = p)
p <- ggplot(gapminder, aes(year, gdpPercap)) + geom_line(color = "gray", aes(group = country)) + geom_smooth(method = loess, se = F) + scale_y_log10(labels=scales::dollar) + facet_wrap(~ continent, ncol = 5) + labs(x= "vuosi", y = "BKT/hlö", title="BKT henkilöä kohden viidellä mantereella")
p
ggsave(here("output", "figures", "BKT_per_hlo_mantereittain.jpg"), plot = p)
glimpse(gss_sm)
p <- ggplot(gss_sm, aes(sex,cilds))
p + geom_point(alpha = 0.2)+geom_smooth()+facet_grid(sex~race)
p <- ggplot(gss_sm, aes(sex,childs))
p + geom_point(alpha = 0.2)+geom_smooth()+facet_grid(sex~race)
p <- ggplot(data = gss_sm, aes(age, childs))
p + geom_point(alpha = 0.2)+geom_smooth()+facet_grid(sex~race)
p <- ggplot(data = gss_sm, aes(age, childs))
p + geom_point(alpha = 0.2)+geom_smooth()+facet_grid(sex~race~degree)
glimpse(gss_sm)
p <- ggplot(data = gss_sm, aes(age, childs))
p + geom_point(alpha = 0.2)+geom_smooth()+facet_grid(sex~race~obama)
p <- ggplot(data = gss_sm, aes(age, childs))
p + geom_point(alpha = 0.2)+geom_smooth()+facet_grid(sex~race + obama)
p <- ggplot(data = gapminder,
mapping = aes(x = gdpPercap,
y = lifeExp))
p + geom_point(alpha = 0.3) +
geom_smooth(color = "orange", se = FALSE, method = "lm") +
scale_x_log10()+facet_wrap(~continent)
p <- ggplot(gss_sm, aes(x=bigregion))
p + geom_bar()
p <- ggplot(gss_sm, aes(x=bigregion))
p + geom_bar(color = "red")
p <- ggplot(gss_sm, aes(x=bigregion), fill=bigregion)
p + geom_bar()
p <- ggplot(gss_sm, aes(x=bigregion))
p + geom_bar(mapping = aes(fill=bigregion))
p <- ggplot(gss_sm, aes(x=bigregion))
p + geom_bar(mapping = aes(y = ..prop..))
p <- ggplot(gss_sm, aes(x=bigregion))
p + geom_bar(mapping = aes(y = ..prop.., fill=bigregion)) + labs(title="Tässä muuttuja ei summaudu 1:een", subtitle = "Jokainen arvo summautuu yhteen")
p <- ggplot(gss_sm, aes(x=bigregion))
p + geom_bar(mapping = aes(y = ..prop.., fill=bigregion)) + labs(title="Tässä muuttuja ei summaudu yhteen", subtitle = "Vaan jokainen arvo summautuu yhteen")
p <- ggplot(gss_sm, aes(bigregion))
p + geom_bar(mapping = aes(y=..prop.., fill=bigregion))
p <- ggplot(gss_sm, aes(bigregion))
p + geom_bar(mapping = aes(y=..prop.., group=1, fill=bigregion))
p <- ggplot(gss_sm, aes(bigregion))
p + geom_bar(mapping = aes(y=..prop.., group=1, fill=x))
p <- ggplot(gss_sm, aes(bigregion))
p + geom_bar(mapping = aes(y=..prop.., group=1, fill=bigregion))
p <- ggplot(gss_sm, aes(bigregion))
p + geom_bar(mapping = aes(y=..prop.., group=1, fill="blue"))
p <- ggplot(gss_sm, aes(bigregion))
p + geom_bar(mapping = aes(y=..prop.., group=1))
p <- ggplot(gss_sm, aes(bigregion))
p + geom_bar(color= "blue", mapping = aes(y=..prop.., group=1))
p <- ggplot(gss_sm, aes(bigregion))
p + geom_bar(color= "blue", fill= "red", mapping = aes(y=..prop.., group=1))
p <- ggplot(gss_sm, aes(bigregion))
p + geom_bar(color= "blue", fill= "orange", mapping = aes(y=..prop.., group=1))
p <- ggplot(data = gapminder,
mapping = aes(x = gdpPercap,
y = lifeExp,
color = "purple"))+
geom_point() +
geom_smooth(method = "loess") +
scale_x_log10() +
labs(title = "aes-funktioon annettu värimäärittely VÄÄRIN.", subtitle = "ggplotille annetaan vain datan muutujia, nyt se on luonut kokonaan uuden")
p
p <- ggplot(data = gapminder,
mapping = aes(x = gdpPercap,
y = lifeExp,
color = "purple"))+
geom_point() +
geom_smooth(method = "loess") +
scale_x_log10() +
labs(title = "aes-funktioon annettu värimäärittely VÄÄRIN.", subtitle = "ggplotille annetaan vain datan muutujia, nyt se on luonut kokonaan uuden, 'purple':n")
p
p <- ggplot(data = gapminder,
mapping = aes(x = gdpPercap,
y = lifeExp,
color = "purple"))+
geom_point() +
geom_smooth(method = "loess") +
scale_x_log10() +
labs(title = "aes-funktioon annettu värimäärittely VÄÄRIN.", subtitle = "ggplotille annetaan vain datan muutujia, nyt se on luonut kokonaan uuden muuttujan, 'purple'")
p
## Onpa hienoa!
## By defult, show code for all chunks in the knitted document,
## as well as the output. To override for a particular chunk
## use echo = FALSE in its options.
knitr::opts_chunk$set(echo = TRUE)
## Set the default size of figures
knitr::opts_chunk$set(fig.width=8, fig.height=5)
## Load the libraries we will be using
library(gapminder)
library(here)
library(socviz)
library(tidyverse)
# eli edellisen kappaleen yläpuolella on
# koodia, jota ei tulosteta html-tiedostoon
gapminder
# Ctrl+Alt+I Windowsilla antaa tällaisen koodipalan. (Entä Linux?)
summary(gapminder)
colnames(gapminder)
p <- ggplot(data = gapminder,
mapping = aes(x = gdpPercap,
y = lifeExp,
size = pop,
color = continent)) +
geom_point() +
coord_cartesian() +
scale_x_log10() +
labs(x = "log GDP", y = "Life expectancy",
title = "kuvaaja")
# piirrä tulostamalla "p"
p
p <- ggplot(data = gapminder,
mapping = aes(x = gdpPercap,
y = lifeExp,
color = "purple"))+
geom_point() +
geom_smooth(method = "loess") +
scale_x_log10() +
labs(title = "aes-funktioon annettu värimäärittely VÄÄRIN.", subtitle = "ggplotille annetaan vain datan muutujia, nyt se on luonut kokonaan uuden muuttujan, 'purple'")
p
p <- ggplot(data = gapminder,
mapping = aes(x = gdpPercap,
y = lifeExp))
p + geom_point(color = "purple") +
geom_smooth(method = "loess") +
scale_x_log10() +
labs(title = "Värin voi määrittää geom-funktiolle mutta se ei tuo tässä lisää tietoa")
p <- ggplot(data = gapminder,
mapping = aes(x = gdpPercap,
y = lifeExp))
p + geom_point(alpha = 0.3) +
geom_smooth(color = "orange", se = FALSE, size = 8, method = "lm") +
scale_x_log10()
p <- ggplot(data = gapminder, mapping = aes(x = gdpPercap, y=lifeExp))
p+  geom_point(alpha = 0.3) +
geom_smooth(method = "gam") +
scale_x_log10(labels = scales::dollar) +
labs(x = "GDP Per Capita", y = "Life Expectancy in Years",
title = "Economic Growth and Life Expectancy",
subtitle = "Data points are country-years",
caption = "Source: Gapminder.")
p <- ggplot(data = gapminder,
mapping = aes(x = gdpPercap,
y = lifeExp,
color = continent,
fill = continent))
p + geom_point() +
geom_smooth(method = "loess") +
scale_x_log10()
p <- ggplot(data = gapminder, mapping = aes(x = gdpPercap, y = lifeExp))
p + geom_point(mapping = aes(color = continent)) +
geom_smooth(method = "loess") +
scale_x_log10()
p <- ggplot(data = gapminder,
mapping = aes(x = gdpPercap,
y = lifeExp))
p + geom_point(mapping = aes(color = log(pop))) +
scale_x_log10()
p <- ggplot(data = gapminder,
mapping = aes(x = gdpPercap,
y = lifeExp)) +
geom_point(mapping = aes(color = log(pop))) +
scale_x_log10()
ggsave(here("output", "figures", "testikuvaaja.png"), plot = p)
p <- ggplot(data = gapminder, mapping = aes(x = gdpPercap, y = lifeExp))
p + geom_point(mapping = aes(color = continent)) +
geom_smooth(method = "loess") +
scale_x_log10() +
labs(title = "Alkuperäinen kuvaaja")
p <- ggplot(data = gapminder, mapping = aes(x = gdpPercap, y = lifeExp))
p + geom_smooth(method = "loess") +
geom_point(mapping = aes(color = continent)) +
scale_x_log10() +
labs(title = "geom_smooth ennen geom_pointia")
p <- ggplot(data = gapminder, mapping = aes(x = pop, y = lifeExp))
p + geom_smooth(method = "loess") +
geom_point(mapping = aes(color = continent)) +
scale_x_log10() +
labs(title = "Elinaika suhteessa populaatioon")
p <- ggplot(data = gapminder, mapping = aes(x = gdpPercap, y = lifeExp))
p + geom_smooth(method = "loess") +
geom_point(mapping = aes(color = continent)) +
scale_y_log10()
p <- ggplot(data = gapminder, mapping = aes(x = gdpPercap, y = lifeExp))
p + geom_smooth(method = "loess") +
geom_point(mapping = aes(color = continent)) +
scale_x_sqrt()
p <- ggplot(data = gapminder, mapping = aes(x = gdpPercap, y = lifeExp))
p + geom_smooth(method = "loess") +
geom_point(mapping = aes(color = continent)) +
scale_x_reverse()
p <- ggplot(data = gapminder, mapping = aes(x = gdpPercap, y = lifeExp))
p + geom_smooth(method = "loess") +
geom_point(mapping = aes(color = continent))
p <- ggplot(data = gapminder, mapping = aes(x = gdpPercap, y = lifeExp))
p + geom_smooth(method = "loess") +
geom_point(mapping = aes(color = year)) +
scale_x_log10() +
labs(title="värimääreenä vuosi eikä manner")
p <- ggplot(data = gapminder, mapping = aes(x = gdpPercap, y = lifeExp))
p + geom_smooth(method = "loess") +
geom_point(mapping = aes(color = factor(year))) +
scale_x_log10() +
labs(title="värimääreenä vuosi eikä manner HUOM! factor(year)!!!!")
gapminder2 <- filter(gapminder, year == 2007)
p <- ggplot(data = gapminder2, mapping = aes(x = gdpPercap, y = lifeExp))
p + geom_smooth(method = "loess") +
geom_point(mapping = aes(color = continent)) +
scale_x_log10()
p <- ggplot(data = gapminder,
mapping = aes(x = year,
y = gdpPercap))
p + geom_line(aes(group=country))
p <- ggplot(data = gapminder, mapping = aes(x = year, y = gdpPercap))
p + geom_line(aes(group = country)) + facet_wrap(~ continent)
p <- ggplot(gapminder, aes(year, gdpPercap)) + geom_line(color = "gray", aes(group = country)) + geom_smooth(method = loess, se = F) + scale_y_log10(labels=scales::dollar) + facet_wrap(~ continent, ncol = 5) + labs(x= "vuosi", y = "BKT/hlö", title="BKT henkilöä kohden viidellä mantereella")
# + theme(axis.title.x = element_text(angle = 90, vjust = 0.25))
# Miten muokataan fasettien akseleita?
p
ggsave(here("output", "figures", "BKT_per_hlo_mantereittain.jpg"), plot = p)
p <- ggplot(data = gapminder,
mapping = aes(x = gdpPercap,
y = lifeExp))
p + geom_point(alpha = 0.3) +
geom_smooth(color = "orange", se = FALSE, method = "lm") +
scale_x_log10()+facet_wrap(~continent)
p <- ggplot(data = gss_sm, aes(age, childs))
p + geom_point(alpha = 0.2)+geom_smooth()+facet_grid(sex~race)
p <- ggplot(data = gss_sm, aes(age, childs))
p + geom_point(alpha = 0.2)+geom_smooth()+facet_grid(sex~race~obama)
p <- ggplot(gss_sm, aes(x=bigregion))
p + geom_bar(mapping = aes(fill=bigregion))
p <- ggplot(gss_sm, aes(x=bigregion))
p + geom_bar(mapping = aes(y = ..prop.., fill=bigregion)) + labs(title="Tässä muuttuja ei summaudu yhteen", subtitle = "Vaan jokainen arvo summautuu yhteen")
p <- ggplot(gss_sm, aes(bigregion))
p + geom_bar(color= "blue", fill= "orange", mapping = aes(y=..prop.., group=1))
p <- ggplot(gss_sm, mapping = aes(bigregion, fill = religion))
p + geomba
p <- ggplot(gss_sm, mapping = aes(bigregion, fill = religion))
p + geom_bar()
p <- ggplot(gss_sm, mapping = aes(bigregion, fill = religion))
p + geom_bar(position = "fill")
p <- ggplot(gss_sm, mapping = aes(bigregion, fill = religion))
p + geom_bar(position = "dodge")
p <- ggplot(gss_sm, mapping = aes(bigregion, fill = religion))
p + geom_bar(position = "dodge", mapping = aes(y=..prop..,group=religion))
p <- ggplot(gss_sm, mapping = aes(religion))
p + geom_bar(position = "dodge", mapping = aes(y=..prop.., group = bigregion)) + facet_wrap(~bigregion)
p <- ggplot(gss_sm, mapping = aes(religion))
p + geom_bar(position = "dodge", mapping = aes(y=..prop.., group = bigregion)) + facet_wrap(~bigregion, ncol = 1)
p <- ggplot(gss_sm, mapping = aes(religion))
p + geom_bar(position = "dodge", mapping = aes(y=..prop.., group = bigregion)) + facet_wrap(~bigregion, ncol = 4)
p <- ggplot(gss_sm, mapping = aes(religion))
p + geom_bar(position = "dodge", mapping = aes(y=..prop.., group = bigregion)) + facet_wrap(~bigregion)
p <- ggplot(midwest, mapping = (x=area))
p <- ggplot(midwest, area)
p <- ggplot(midwest, mapping = aes(x=area))
p + geom_histogram()
p <- ggplot(midwest, mapping = aes(x=area))
p + geom_histogram(bins = 10)
p <- ggplot(midwest, mapping = aes(x=area))
p + geom_histogram(bins = origin)
oh_wi <- c("OH", "WI")
p <- ggplot(data = subset(midwest, subset = state %in% oh_wi),
mapping = aes(x = percollege, fill = state))
p + geom_histogram(alpha = 0.4, bins = 20)
p <- ggplot(midwest, mapping = aes(x=area))
p + geom_density()
p <- ggplot(midwest, mapping = aes(x=area))
p + geom_density2d()
colnames(midwest)
p <- ggplot(midwest, mapping = aes(x=area, y = poptotal))
p + geom_density2d()
p <- ggplot(midwest, mapping = aes(x=area))
p + geom_density()
p <- ggplot(midwest, mapping = aes(x=area))
p + geom_line(stat = "identity")
p <- ggplot(midwest, mapping = aes(area, fill=state))
p + geom_density()
p <- ggplot(midwest, mapping = aes(area, fill=state))
p + geom_density(alpha = 0.3)
p <- ggplot(midwest, mapping = aes(area, fill=state, color = state))
p + geom_density(alpha = 0.3)
p <- ggplot(midwest, mapping = aes(area, fill=state, color = state))
p + geom_density(alpha = 0.3)
p <- ggplot(midwest, mapping = aes(area, fill=state, color = state))
p + geom_line(stat = "identity")
p <- ggplot(midwest, mapping = aes(x=area, y=state, color = state))
p + geom_line(stat = "identity")
p <- ggplot(midwest, mapping = aes(x=area, y=state, color = state))
p + geom_line(stat = "density")
p <- ggplot(midwest, mapping = aes(x=area,  color = state))
p + geom_line(stat = "density")
p <- ggplot(data = subset(midwest, subset = state %in% oh_wi),
mapping = aes(x = area, fill = state, color = state))
p + geom_density(alpha = 0.3, mapping = (aes(y = ..scaled..)))
